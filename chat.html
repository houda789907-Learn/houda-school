
<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gango AI Chat</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:black;
  color:white;
  display:flex;
  flex-direction:column;
  height:100vh;
  overflow:hidden;
}

/* â­ Ù†Ø¬ÙˆÙ… Ø°Ù‡Ø¨ÙŠØ© */
body::before{
  content:"";
  position:fixed;
  width:100%;
  height:100%;
  background-image:
    radial-gradient(#FFD700 1px, transparent 1px);
  background-size:40px 40px;
  opacity:0.15;
  z-index:0;
}

/* ===== HEADER ===== */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px;
  background:black;
  color:#FFD700;
  font-weight:bold;
  z-index:2;
}

.menu{
  cursor:pointer;
  font-size:22px;
}

.dropdown{
  position:absolute;
  top:50px;
  left:15px;
  background:#111;
  border:1px solid #FFD700;
  display:none;
  flex-direction:column;
  padding:10px;
  z-index:3;
}

.dropdown div{
  padding:8px;
  cursor:pointer;
}

.dropdown div:hover{
  background:#222;
}

/* ===== CHAT AREA ===== */
.chat-container{
  flex:1;
  padding:20px;
  overflow-y:auto;
  z-index:1;
}

.message{
  max-width:60%;
  padding:10px 15px;
  margin:10px 0;
  border-radius:15px;
}

.user{
  background:#FFD700;
  color:black;
  align-self:flex-start;
}

.ai{
  background:#333;
  color:#FFD700;
  align-self:flex-end;
}

/* ===== INPUT AREA ===== */
.input-area{
  display:flex;
  align-items:center;
  padding:10px;
  background:black;
  z-index:2;
}

textarea{
  flex:1;
  resize:none;
  padding:10px;
  border-radius:20px;
  border:1px solid #FFD700;
  background:#111;
  color:white;
  height:40px;
}

button{
  margin-left:8px;
  padding:8px 12px;
  border:none;
  border-radius:50%;
  cursor:pointer;
  background:#FFD700;
  color:black;
  font-weight:bold;
}

.hidden{
  display:none;
}
</style>
</head>

<body>

<div class="header">
  <div class="menu" onclick="toggleMenu()">â‰¡</div>
  <div>Gango AI</div>
</div>

<div class="dropdown" id="dropdown">
  <div onclick="clearChat()">ğŸ—‘ Ø­Ø°Ù Ø§Ù„Ø´Ø§Øª</div>
  <div onclick="logout()">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</div>
</div>

<div class="chat-container" id="chat"></div>

<div class="input-area">
  <button onclick="uploadImage()">+</button>
  <input type="file" id="imageInput" class="hidden" accept="image/*" onchange="handleImage(event)">
  
  <textarea id="messageInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ..."></textarea>
  
  <button onclick="startVoice()">ğŸ¤</button>
  <button onclick="sendMessage()">â¬†</button>
</div>

<script>

function toggleMenu(){
  let menu=document.getElementById("dropdown");
  menu.style.display = menu.style.display==="flex" ? "none" : "flex";
}

function logout(){
  localStorage.clear();
  window.location.href="index.html";
}

function clearChat(){
  document.getElementById("chat").innerHTML="";
}

function sendMessage(){
  let input=document.getElementById("messageInput");
  let text=input.value.trim();
  if(!text) return;

  addMessage(text,"user");

  setTimeout(()=>{
    addMessage("Ø¯Ù‡ Ø±Ø¯ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù…Ù† Ø§Ù„Ù€ AI ğŸ¤–","ai");
  },800);

  input.value="";
}

function addMessage(text,type){
  let chat=document.getElementById("chat");
  let msg=document.createElement("div");
  msg.classList.add("message",type);
  msg.innerText=text;
  chat.appendChild(msg);
  chat.scrollTop=chat.scrollHeight;
}

/* ===== Ø±ÙØ¹ ØµÙˆØ±Ø© ===== */
function uploadImage(){
  document.getElementById("imageInput").click();
}

function handleImage(event){
  let file=event.target.files[0];
  if(file){
    let reader=new FileReader();
    reader.onload=function(e){
      let img=document.createElement("img");
      img.src=e.target.result;
      img.style.maxWidth="150px";
      img.style.borderRadius="10px";
      img.style.margin="10px";
      document.getElementById("chat").appendChild(img);
    }
    reader.readAsDataURL(file);
  }
}

/* ===== ØªØ­ÙˆÙŠÙ„ ØµÙˆØª Ù„ÙƒØªØ§Ø¨Ø© ===== */
function startVoice(){
  if(!('webkitSpeechRecognition' in window)){
    alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ù…Ø§ÙŠÙƒ");
    return;
  }

  let recognition=new webkitSpeechRecognition();
  recognition.lang="ar-EG";
  recognition.start();

  recognition.onresult=function(event){
    document.getElementById("messageInput").value=
      event.results[0][0].transcript;
  }
}

</script>

</body>
</html>
